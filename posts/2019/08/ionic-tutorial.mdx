---
title: "Ionicのチュートリアルをやってみた"
date: "2019-08-27"
description: "自分のスキルセットであるWeb技術を使ってモバイルアプリを作ってみたい。ということで、ハイブリッドアプリのフレームワークである Ionic のチュートリアルをやってみました。"
cover: "ionic.png"
---

社会人になってWeb技術に触れ始めて約4年半。
今年こそは個人でアプリやサービスをリリースしたいという野望があります。

どうせ作るなら、多くの人に触れてもらえるようにクロスプラットフォームアプリを開発してみたい。
けれど自分にはネイティブアプリの知見もなく、これから Kotlin や Swift を学習するのはちょっとコストが...。

ということで前々から興味のあったハイブリッドアプリを調べて、Ionic のチュートリアルをやってみました。


## ハイブリッドアプリとは

ハイブリッドアプリとは、HTML5 や CSS、JavaScript を使って開発するアプリを指します。
メリットとしては

- ネイティブアプリ開発の知見がない開発者 / チームでも、モバイルアプリを開発できる
- クロスプラットフォームに対応しており、少ないコストで iOS / Android 両方でアプリが提供できる
- 既存のフロントエンドのコードを使い回すことで、さらに効率的に開発可能

のような点が挙げられます。スマートフォンが普及しモバイルアプリの重要性が高まる中、
既存のリソースを使いまわしつつ省コストでリリース可能であるというメリットは大きいと思います。

一方で、

- ネイティブアプリに比べてパフォーマンスが悪い（最新の端末では昔ほど問題にならないとは言われるが）
- ユーザーが慣れ親しんだネイティブのUIコンポーネントを使えない

などのデメリットもあります。

個人開発においては、ネイティブアプリを1から勉強するという手もありますが、
モチベーションが高いうちにできるだけ早くアイデアを形にしたいので
ハイブリッドアプリを採用したいと考えました。


## ハイブリッドアプリが作れるフレームワーク

モバイル向けハイブリッドアプリが作れるフレームワークとしては、以下のようなものがあります。
（下記以外にもありますが、今回は私が調べた部分だけ。。。）

- [Ionic](https://ionicframework.com/)：アメリカの Drifty 社によって開発が始まったフレームワーク。Angular での開発が基本だったが、最近は React や Vue にも対応。
- [Monaca](https://ja.monaca.io/)：この中では唯一の国産フレームワーク。OnsenUI という UI フレームワークを内包しており、Angular、React、Vue いずれもサポート。
- [React Native](https://facebook.github.io/react-native/)：FaceBook 製のJSフレームワーク React でモバイルアプリを開発できるフレームワーク。
- [Flutter](https://flutter.dev/)：Google 製。Dart というこれもまた Google 製の altJS 言語で開発する。

上記の中でも、Ionic と Monaca は WebView 上で動作する一方で、React Native と Flutter は最終的にネイティブコードに変換されるため、よりパフォーマンスに優れているようです。


## Ionic のチュートリアルをやってみる

上記フレームワークの中でも、Web 上のドキュメントが多くかつ採用実績も豊富である Ionic を触ってみることにしました。
Youtube に素晴らしいチュートリアルが上がっていたので、利用させていただきました。

[Ionic 4 & Angular Tutorial For Beginners - Crash Course](https://www.youtube.com/watch?v=r2ga-iXS5i4)

上記チュートリアルでは、レシピ管理アプリを作っていきます。
レシピ一覧ページがあって、リストのいずれかをタッチするとレシピ詳細が表示されるイメージ。

![recipe list](/2019/08/list.png "レシピ一覧画面")

![recipe detail](/2019/08/detail.png "レシピ詳細画面")

はじめて書いた Angular ですが、思っていたよりもずっと書きやすかったです。
ネット上では学習コスト高め、という説明をよく目にしますが、フレームワークの作法に則って
快適にコンポーネント単位でコードを書けた印象。業務レベルで使い込んだら、また違うのかな？

![dialog](/2019/08/dialog.png "Android ネイティブな見た目のダイアログ。iOS 端末では iOS ネイティブな見た目に変わる。")

Ionic に関しては、一つのコードで端末によってネイティブに近い見た目に変わるのは感動でした。
外部との通信もないサンプルアプリだからかもしれませんが、動作のもっさり感も全然気にならない。

### チュートリアル中で上手く動かなかった部分

2点上手く動作しない部分があったので記録しておきます。いずれも Youtube のコメント欄から解決策を見つけ、修正しました。

- レシピ一覧画面からレシピ一覧画面に遷移した際、デベロッパーツールのコンソールに "Cannot read property" 等のエラーが
  表示され、画面上には何も表示されない。これはサーバーからレシピの情報を受取る前に、画面上の描画処理が実行されることによる。
  `*ngIf` 構文を使い、データが存在するときのみ描画するようにすればOK。

- レシピ詳細画面で削除ボタンを押した後、レシピ一覧に遷移するが削除したはずのレシピが表示されたまま。
  動画内の Ionic とバージョンが異なることによる画面リロードの挙動の違いが原因ぽい。
  画面遷移時にリロードが走るように ionViewWillEnter イベント内にリロード処理を追加。


## 感想

Ionic、普段 JS や HTML をメインで書く技術者が自分のアイデアをいち早く形にする手段として素晴らしいと思います！
本当に必要になったら、もっとパフォーマンスが良い実装に置き換えるのもありかなと。今後使っていきたい。

