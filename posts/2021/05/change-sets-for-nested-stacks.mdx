---
title: "AWS SAMを使ったネストされたスタックの変更セットのプレビューを確認する"
date: "2021-05-02"
description: "AWS SAMでネストされたスタックの変更セットのプレビューを試した。"
cover: "icon.jpg"
---

## CloudFormationがネストされたスタックのサポートを開始

少し前の話だが、
2020年11月にAWS CloudFormationの変更セットがネストされたスタックを
サポートするようになった。

[AWS CloudFormation 変更セットがネストされたスタックのサポートを開始](https://aws.amazon.com/jp/about-aws/whats-new/2020/11/aws-cloudformation-change-sets-now-support-nested-stacks/)

ネストされたスタックというのは、他のスタックの一部として作成されたスタックのこと。
あるスタックのテンプレート内に`AWS::CloudFormation::Stack`リソースを定義することで作成できる。

（以降はネストされたスタックを子スタック、ネストされたスタックを自身の一部として持つスタックを親スタックと呼ぶこととする。）

2020年11月以前は親スタックに対して変更セットを作成した場合に、
子スタックにリースの追加や変更、削除があったとしてもその内容をプレビューすることができなかったのだが、
上記のアップデートによりそれが可能となった。


