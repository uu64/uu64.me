---
title: "『UNIXという考え方 その設計思想と哲学』を読んで"
date: "2020-07-19"
description: "「UNIXという考え方 その設計思想と哲学」の書評。"
cover: "./public/2020/07/linux-philosophy.jpg"
---

[「UNIXという考え方 その設計思想と哲学」](https://www.ohmsha.co.jp/book/9784274064067/) を読んだ。

本書では、UNIX という OS の背景にある思想が 9 つの定理 + 10 の考え方にまとめられている。
それぞれについて、技術的な詳細はできるだけ省いて、具体例を交えた親しみやすい口語体で綴られている。

原著は1994年発刊、日本語訳の本書は2001年発刊でやや古い本ではある。
しかし、記載されている思想は現在のソフトウェア設計においても適用可能な普遍的な内容と感じた。

その中でも特に印象に残った項目についてまとめる。

## できるだけ早く試作を作成する

本書は、人間は３つのシステムしか作れない、と述べている。
ざっくりというと

- 1 ) 最初にアイデアを形にしたときの、荒削りだけど最小限の価値にフォーカスしたシステム
- 2 ) 1 が成功して、それをより良くしようと集まった多くの（自称）専門家によって作成されたファットなシステム
- 3 ) 1 と 2 を踏まえて必要な機能が適切な方法で実現されたシステム

ここで大切だと思ったのは、本書の以下の記述である。（「UNIXという考え方 その設計思想と哲学」p.43 より引用）

> では、どのようにすれば第三のシステムを作れるのだろうか？最初に他の二つのシステムを作るのだ。それ以外の方法はない。

最初から正しい方法でシステムを構築するのは困難であり、まずはスピード重視で １ のシステムを作るのが大切であるということ、
その先に追い求めている 3 のシステムがあるということを忘れないようにしたい。


## 効率より移植性

この項目で重要なのは、プログラムを速くすることに時間をかけすぎないということ。

本書では、以下のような内容が述べられている。

- 最も効率の良い方法は、ほとんどの場合で移植性にかける
- ハードウェア技術の進歩は目覚しく、移植性のあるプログラムなら翌年・翌四半期のハードウェアでもっと速く動かせるだろう
- 一方で、移植性を犠牲にしたプログラムは新しいハードウェアのために書き直さなければならない

コードを書いていると、もっと効率の良い方法で...と手を止めてしまうことがある。
そのような場合は、本当にそれが求められているのか、お金をかけてハードウェアのスペックをあげることで解決できないのか、
という視点を持つようにしたい。


## すべてのプログラムをフィルタにする

UNIX においては stdio を上手く活用することで、
各プログラムをフィルタとしてパイプ（ | ）で繋ぎ、
高い柔軟性を実現することができる。

この思想を理解しないで、
例えばよかれと思ってユーザーフレンドリなメッセージをむやみやたらに出力すると、
他コマンドとパイプで連携させることが困難になる。

新しく技術を習得する際は、構文などの表面的な理解だけではなく、
上記のような設計思想を理解することを心がけたい。


## 感想

知らない技術や新しい技術を学ぶとき、
まずチュートリアルをやって構文を覚えてということをよくするけれど、
その先の思想・哲学を理解できるようになりたい。
